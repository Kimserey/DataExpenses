(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{London:{Web:{Client:{page:function(){return c.page();}},ExpensesPerMonth:{page:function(){var q,s,t,u;q=function(){return e.Async("London.Web:0",[]);};s=h.Const(null);t=i.MapAsync(q,s);u=function(v){var w,x,C,D,W;w=j.toList(l.ToSeq(v));x=function(y){var z,A,B;z=y[0];y[1];A=z[1].$0;z[0].$0[0];B=z[0].$0[1];return B+A*100;};C=m.sortByDescending(x,w);D=function(E){var F,G,H,I,J,K,L,S,T,U,V;F=E[0];G=E[1];H=F[1].$0;I=F[0].$0[0];J=F[0].$0[1];K=I+" "+$$.String(H);L=function(M){var N,O,P,Q,R;N=(new n(M.Date)).toLocaleDateString();O=M.Label;P=$$.String(M.Amount);Q=M.Category;R=[];return o.Concat([o.Element("tr",R,[o.TextNode("\n            "),o.Element("td",[],[o.TextNode(N)]),o.TextNode("\n            "),o.Element("td",[],[o.TextNode(O)]),o.TextNode("\n            "),o.Element("td",[],[o.TextNode(P)]),o.TextNode("\n            "),o.Element("td",[],[o.TextNode(Q)]),o.TextNode("\n        ")])]);};S=m.map(L,G);T=[];U=[];V=[];return o.Concat([o.Element("h1",[],[o.TextNode(K)]),o.TextNode("\n"),o.Element("table",T,[o.TextNode("\n    "),o.Element("thead",U,[o.TextNode("\n        "),o.Element("tr",V,[o.TextNode("\n            "),o.Element("th",[],[o.TextNode("Date")]),o.TextNode("\n            "),o.Element("th",[],[o.TextNode("Amount")]),o.TextNode("\n            "),o.Element("th",[],[o.TextNode("Label")]),o.TextNode("\n            "),o.Element("th",[],[o.TextNode("Category")]),o.TextNode("\n        ")]),o.TextNode("\n    ")]),o.TextNode("\n    "),o.Element("tbody",[],p.ofSeq(S)),o.TextNode("\n")]),o.TextNode("\n")]);};W=m.map(D,C);return o.Concat(W);};return o.BindView(u,t);}}}}});$.OnInit(function(){a=$.Safe($$.London);b=$.Safe(a.Web);c=$.Safe(b.ExpensesPerMonth);d=$.Safe($$.WebSharper.Remoting);e=$.Safe(d.AjaxRemotingProvider);f=$.Safe($$.WebSharper.UI);g=$.Safe(f.Next);h=$.Safe(g.View1);i=$.Safe(g.View);j=$.Safe($$.WebSharper.Seq);k=$.Safe($$.WebSharper.Collections);l=$.Safe(k.MapModule);m=$.Safe($$.WebSharper.List);n=$.Safe($$.Date);o=$.Safe(g.Doc);return p=$.Safe($$.WebSharper.Arrays);});$.OnLoad(function(){return;});}());
